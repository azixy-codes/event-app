{% extends 'base.html.twig' %}

{% block title %}Event
{% endblock %}

{% block body %}
	<section class="bg-white dark:bg-gray-900">
		<div class="flex max-w-screen-xl px-4 py-8 mx-auto lg:gap-8 xl:gap-0 lg:py-16 lg:grid-cols-12 flex-col">

			<nav class="flex mb-4" aria-label="Breadcrumb">
				<ol class="inline-flex items-center space-x-1 md:space-x-3 rtl:space-x-reverse">
					<li class="inline-flex items-center">
						<a href="{{ path('events.index') }}" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 me-2">
								<path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"/>
							</svg>

							Événements
						</a>
					</li>
					<li aria-current="page">
						<div class="flex items-center">
							<svg class="w-3 h-3 text-gray-400 mx-1 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 6 10">
								<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
							</svg>
							<span class="ms-1 text-sm font-medium text-gray-500 md:ms-2 dark:text-gray-400">{{ event.name }}</span>
						</div>
					</li>
				</ol>
			</nav>
			<h2 class="mb-8 text-3xl font-extrabold leading-none tracking-tight text-gray-800 md:text-4xl dark:text-white inline-flex items-end justify-between">
				{{ event.name }}
			</h2>
			{% for message in app.flashes('success') %}

				<div class="flex w-full items-center p-4 mb-4 text-green-800 border-t-4 border-green-300 bg-green-50 dark:text-green-400 dark:bg-gray-800 dark:border-green-800" role="alert">
					<svg class="flex-shrink-0 w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewbox="0 0 20 20">
						<path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
					</svg>
					<div class="ms-3 text-sm font-medium">
						{{ message }}
					</div>
				</div>

			{% else %}

				<form>
					<div class="mb-8 flex space-x-2">
						<div>
							<input class="rounded bg-gray-100 border border-x-gray-300 py-1 px-3" name="lat" placeholder="Votre lattitude">
						</div>
						<div>
							<input class="rounded bg-gray-100 border border-x-gray-300 py-1 px-3" name="long" placeholder="Votre longitude">
						</div>
						<div>
							<button type="submit" class="bg-black rounded px-4 py-1 text-white">Calculer la distance</button>
						</div>
					</div>
				</form>

			{% endfor %}

			<div class="flex flex-col space-y-2">
				<div class="flex flex-col items-center bg-white border border-gray-200 rounded-lg shadow md:flex-row dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700">
					<img class="object-cover w-full rounded-t-lg h-96 md:h-auto md:w-96 md:rounded-none md:rounded-s-lg" src="https://random.imagecdn.app/500/500?{{ event.id }}" alt="">
					<div class="flex flex-col justify-between self-start p-4 leading-normal">
						<h5 class="mb-2 text-3xl font-bold tracking-tight text-gray-900 dark:text-white">{{ event.name }}</h5>
						<p class="mb-1 font-normal text-gray-700 dark:text-gray-400 inline-flex items-center  text-sm">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1 text-blue-500">
								<path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"/>
							</svg>

							{{ event.date | date('j F Y') }}
						</p>
						<p class="mb-1 font-normal text-gray-700 dark:text-gray-400 inline-flex items-center text-sm">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1 text-orange-500">
								<path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
								<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"/>
							</svg>
							{{ event.address }}
						</p>
						<p class="mb-3 font-normal text-gray-700 dark:text-gray-400 inline-flex items-center text-sm">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1 text-green-500">
								<path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"/>
							</svg>

							{{ event.participants | length }}
							Participants
						</p>
						<p class="text-gray-500 text-sm text-justify">
							Un événement exceptionnel se profile à l'horizon, prêt à réunir des participants de tous horizons dans une ambiance chaleureuse et stimulante. L'objectif est de créer une expérience mémorable, où les échanges, les découvertes et le partage seront au cœur des activités. Conçu pour captiver et inspirer, cet événement promet des moments uniques et riches en opportunités. Que ce soit pour apprendre, collaborer ou simplement profiter de l'instant, chaque détail a été pensé pour offrir une expérience inoubliable. Préparez-vous à vivre un moment qui restera gravé dans les mémoires !
						</p>
					</div>
				</div>
			</div>

			<div class="w-full mt-6">
				<h5 class="mb-2 text-3xl font-bold tracking-tight text-gray-900 dark:text-white">Liste des participants</h5>
				<p class="text-gray-600">Vous trouverez ci-dessous la liste des participants qui prendront part à cet événement.</p>
				<ul class="flex flex-wrap my-5">
					{% for participant in participantsWithDistances %}
						<li class="w-1/3 pb-3 sm:pb-4">
							<div class="flex items-center space-x-4 rtl:space-x-reverse">
								<div class="flex-shrink-0">
									<img class="w-8 h-8 rounded-full border" src="https://random.imagecdn.app/500/500?20{{ participant.user.id }}" alt="Neil image">
								</div>
								<div class="flex-1 min-w-0">
									<p class="text-sm font-medium text-gray-900 truncate dark:text-white w-full inline-flex">
										{{ participant.user.name }}
										<span class="bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-blue-900 dark:text-blue-300 ml-2">{{ participant.distance }}
											Km</span>
									</p>
									<p class="text-sm text-gray-500 truncate dark:text-gray-400">
										{{ participant.user.email }}
									</p>
								</div>
							</div>
						</li>
					{% endfor %}
				</ul>
			</div>
		</div>
	</section>
{% endblock %}
